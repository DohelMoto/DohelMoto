{{- if .Values.ecrSecret.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.ecrSecret.name }}
  namespace: {{ include "dohelmoto.namespace" . }}
  labels:
    {{- include "dohelmoto.labels" . | nindent 4 }}
    component: ecr-secret
type: kubernetes.io/dockerconfigjson
data:
  # Replace with your actual ECR credentials
  # To create: kubectl create secret docker-registry {{ .Values.ecrSecret.name }} \
  #   --docker-server={{ .Values.ecrSecret.server }} \
  #   --docker-username={{ .Values.ecrSecret.username }} \
  #   --docker-password=$(aws ecr get-login-password --region us-east-1) \
  #   --namespace={{ include "dohelmoto.namespace" . }}
  .dockerconfigjson: eyJhdXRocyI6eyI0NjM0NzA5ODMwMTguZGtyLmVjci51cy1lYXN0LTEuYW1hem9uYXdzLmNvbSI6eyJ1c2VybmFtZSI6IkFXUyIsInBhc3N3b3JkIjoiY2hhbmdlLW1lIiwibWFpbCI6IiIsImF1dGgiOiJZV1J0YVc0Nk1UWTNNakF6TkRrPSJ9fX0=
{{- end }}
